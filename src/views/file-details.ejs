<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title><%= file.name %> — MiniDrive</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style type="text/tailwindcss">
      :root {
        --primary-color: #ea2a33;
      }
      body {
        font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <div class="flex h-screen w-full">
      <!-- Sidebar -->

      <!-- Main content -->
      <div class="flex flex-1 flex-col">
        <!-- Header -->
        <header
          class="flex h-16 items-center justify-between border-b border-gray-200 bg-white px-6"
        >
          <div class="flex h-16 items-center gap-3 px-6">
            <h2 class="text-xl font-bold text-gray-900">MiniDrive</h2>
          </div>
        </header>

        <!-- File details -->
        <main class="flex flex-1 overflow-hidden">
          <div class="flex-1 overflow-y-auto p-8">
            <div class="mx-auto max-w-4xl">
              <div class="flex flex-col md:flex-row gap-8">
                <!-- File preview + actions -->
                <div class="md:w-2/3">
                  <div class="mb-4">
                    <h2 class="text-2xl font-bold text-gray-900">
                      <%= file.name %>
                    </h2>
                    <p class="mt-1 text-gray-500">
                      Size: <%= (file.size/1024).toFixed(2) %> KB · Uploaded:
                      <%= file.uploadedAt.toLocaleString() %>
                    </p>
                  </div>

                  <!-- Placeholder preview -->
                  <div
                    class="mb-6 rounded-2xl border border-gray-200 bg-white p-4 shadow-sm"
                  >
                    <div
                      class="aspect-[4/3] w-full rounded-lg bg-gray-100 flex items-center justify-center"
                    >
                      <span class="text-gray-400">Preview not available</span>
                    </div>
                  </div>

                  <!-- Actions -->
                  <div class="flex items-center gap-4">
                    <a
                      href="/download/<%= file.id %>"
                      class="flex items-center justify-center gap-2 rounded-full bg-[var(--primary-color)] px-6 py-3 font-bold text-white shadow-sm hover:bg-red-700"
                    >
                      <span class="material-symbols-outlined">download</span>
                      <span class="truncate">Download</span>
                    </a>
                    <a
                      href="/files"
                      class="flex items-center justify-center gap-2 rounded-full bg-gray-200 px-6 py-3 font-bold text-gray-800 hover:bg-gray-300"
                    >
                      <span class="material-symbols-outlined">arrow_back</span>
                      <span class="truncate">Back to Files</span>
                    </a>
                  </div>
                </div>

                <!-- File metadata -->
                <div class="md:w-1/3">
                  <div
                    class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm"
                  >
                    <h3 class="mb-4 text-lg font-bold text-gray-900">
                      Details
                    </h3>
                    <div class="space-y-4 text-sm">
                      <div class="flex justify-between">
                        <p class="text-gray-500">Type</p>
                        <p class="font-medium text-gray-800">
                          <%= file.type || 'Unknown' %>
                        </p>
                      </div>
                      <div class="flex justify-between">
                        <p class="text-gray-500">Size</p>
                        <p class="font-medium text-gray-800">
                          <%= (file.size/1024).toFixed(2) %> KB
                        </p>
                      </div>
                      <div class="flex justify-between">
                        <p class="text-gray-500">Owner</p>
                        <p class="font-medium text-gray-800">
                          <%= user ? user.name : 'Unknown' %>
                        </p>
                      </div>
                      <div class="flex justify-between">
                        <p class="text-gray-500">Uploaded</p>
                        <p class="font-medium text-gray-800">
                          <%= file.uploadedAt.toLocaleString() %>
                        </p>
                      </div>
                      <% if (file.folder) { %>
                      <div class="flex justify-between">
                        <p class="text-gray-500">Folder</p>
                        <p class="font-medium text-gray-800">
                          <%= file.folder.name %>
                        </p>
                      </div>
                      <% } %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>
  </body>
</html>
